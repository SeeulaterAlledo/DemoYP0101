<Window x:Class="DemoYP0101.ApplicationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DemoYP0101"
        mc:Ignorable="d"
        Title="ApplicationWindow" Height="450" Width="800">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Панель кнопок переключения -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="10">
            <Button x:Name="CurrentButton" 
                    Content="Текущие заявки" 
                    Width="194" 
                    Height="30" 
                    Margin="0,0,10,0"
                    Click="CurrentButton_Click"/>
            <Button x:Name="HistoryButton" 
                    Content="История" 
                    Width="120" 
                    Height="30"
                    Click="HistoryButton_Click"/>
        </StackPanel>

        <!-- Панель фильтров -->
        <Border Grid.Row="1" 
                Background="#F0F0F0" 
                Margin="10" 
                Padding="10"
                CornerRadius="5">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="Фильтр:" 
                           VerticalAlignment="Center" 
                           Margin="0,0,10,0"/>

                <TextBlock Text="Адрес:" 
                           VerticalAlignment="Center" 
                           Margin="10,0,5,0"/>
                <TextBox x:Name="AddressFilterTextBox" 
                         Width="200" 
                         Height="25"
                         TextChanged="FilterTextBox_TextChanged"/>

                <TextBlock Text="Заявитель:" 
                           VerticalAlignment="Center" 
                           Margin="10,0,5,0"/>
                <TextBox x:Name="ApplicantFilterTextBox" 
                         Width="200" 
                         Height="25"
                         TextChanged="FilterTextBox_TextChanged"/>

                <Button x:Name="ClearFiltersButton" 
                        Content="Очистить фильтры" 
                        Width="120" 
                        Height="25"
                        Margin="10,0,0,0"
                        Click="ClearFiltersButton_Click"/>
            </StackPanel>
        </Border>

        <!-- DataGrid для отображения заявок -->
        <DataGrid x:Name="ApplicationsGrid"
                  Grid.Row="2"
                  Margin="10"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  IsReadOnly="True"
                  SelectionMode="Single">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" 
                                    Binding="{Binding Id}" 
                                    Width="50"/>
                <DataGridTextColumn Header="Адрес" 
                                    Binding="{Binding ListHousingStock.Adress}" 
                                    Width="200"/>
                <DataGridTextColumn Header="Телефон" 
                                    Binding="{Binding Phone}" 
                                    Width="100"/>
                <DataGridTextColumn Header="Описание" 
                                    Binding="{Binding Description}" 
                                    Width="300"/>
                <DataGridTextColumn Header="Статус" 
                                    Binding="{Binding Executor.Name}" 
                                    Width="100"/>
                <DataGridTextColumn Header="Заявитель" 
                                    Binding="{Binding Users.Name}" 
                                    Width="150"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Панель управления -->
        <StackPanel Grid.Row="3" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right" 
                    Margin="10">
            <Button x:Name="CreateButton" 
                    Content="Создать заявку" 
                    Width="219" 
                    Height="30" 
                    Margin="0,0,10,0"
                    Click="CreateButton_Click"/>
            <Button x:Name="CompleteButton" 
                    Content="Выполнить" 
                    Width="120" 
                    Height="30" 
                    Margin="0,0,10,0"
                    Click="CompleteButton_Click"/>
            <Button x:Name="BackButton" 
                    Content="Назад" 
                    Width="80" 
                    Height="30"
                    Click="BackButton_Click"/>
        </StackPanel>
    </Grid>
</Window>
